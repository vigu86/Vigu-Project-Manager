<div class="modal fade" id="modal-entry" role="dialog" data-backdrop="static" ng-controller="modalEntryCtrl">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header">
                <button
                    type="button"
                    class="close"
                    data-dismiss="modal"
                    ng-click="clearEntryModalData()">&times;
                </button>
                <h4 class="modal-title">{{entryModalTitle}}</h4>
            </div>

            <div class="modal-body">

                <!-- cotainer for error messages -->
                <div class="alert alert-danger error-msg-time-input" ng-show="entryModalErrorMsg.length">
                    <p ng-repeat="error in entryModalErrorMsg">{{error}}</p>
                </div>

                <form name="entryForm" ng-submit="submitEntry(entryModalMode, entryIndex)" novalidate>

                        <!-- entry name field -->
                        <div class="row">
                            <div class="col-sm-4">
                                <h4>Project Name:</h4>
                            </div>
                            <div class="col-sm-8">
                                <div class="form-group"
                                    ng-class="{
                                    'has-error':
                                        (entryForm.entryNameInput.$invalid
                                        && entryForm.entryNameInput.$touched)
                                        || invalidFieldEntryName,
                                    'has-feedback':
                                        (entryForm.entryNameInput.$invalid
                                        && entryForm.entryNameInput.$touched)
                                    || invalidFieldEntryName}"
                                >
                                    <select
                                        name="entryNameInput"
                                        id="entryNameInput"
                                        class="form-control"
                                        ng-model="entryId"
                                        ng-required = "true"
                                        ng-class="{
                                            'bg-danger':
                                            (entryForm.entryNameInput.$invalid
                                            && entryForm.entryNameInput.$touched)
                                            || invalidFieldEntryName}"
                                    >
                                        <option
                                            ng-repeat="project in dataService.projects"
                                            value={{project.id.toString()}}>{{project.name}}
                                        </option>
                                    </select>
                                    <span
                                        ng-show="(entryForm.entryNameInput.$invalid
                                            && entryForm.entryNameInput.$touched)
                                            || invalidFieldEntryName"
                                        class="glyphicon glyphicon-remove form-control-feedback input-select">
                                    </span>
                                </div>
                            </div>
                        </div>

                        <!-- Entry Type Field -->
                        <div class="row">
                            <div class="col-sm-4">
                                <h4>Entry Type:</h4>
                            </div>
                            <div class="col-sm-8">
                                <div class="form-group"
                                    ng-class="{
                                        'has-error':
                                            (entryForm.entryTypeInput.$invalid
                                            && entryForm.entryTypeInput.$touched)
                                            || invalidFieldEntryType,
                                        'has-feedback':
                                            (entryForm.entryTypeInput.$invalid
                                            && entryForm.entryTypeInput.$touched)
                                            || invalidFieldEntryType}"
                                >
                                    <select
                                        name="entryTypeInput"
                                        id="entryTypeInput"
                                        class="form-control"
                                        ng-model="entryType"
                                        ng-required="true"
                                        ng-class="{'bg-danger':
                                            (entryForm.entryTypeInput.$invalid
                                            && entryForm.entryTypeInput.$touched)
                                            || invalidFieldEntryType}"
                                    >
                                        <option value="requirements">Requirements</option>
                                        <option value="design">Design</option>
                                        <option value="development">Development</option>
                                        <option value="qa">Qa</option>
                                        <option value="uat">UAT</option>
                                        <option value="deployment">Deployment</option>
                                    </select>
                                    <span
                                        ng-show="(entryForm.entryTypeInput.$invalid
                                            && entryForm.entryTypeInput.$touched)
                                            || invalidFieldEntryType"
                                        class="glyphicon glyphicon-remove form-control-feedback input-select">
                                    </span>
                                </div>
                            </div>
                        </div>

                        <!-- entry end time input -->
                        <div class="row">
                            <div class="col-sm-4">
                                <h4>Entry End Time:</h4>
                            </div>
                            <div class=" col-sm-6">
                                <div
                                    class="form-group"
                                    ng-class="{
                                        'has-error':
                                            (entryForm.entryEndTimeInput.$invalid
                                            && entryForm.entryEndTimeInput.$touched)
                                            || invalidFieldEntryEndTime,
                                        'has-feedback':
                                            (entryForm.entryEndTimeInput.$invalid
                                            && entryForm.entryEndTimeInput.$touched)
                                            || invalidFieldEntryEndTime}"
                                >
                                    <input
                                        id="entryEndTimeInput"
                                        name="entryEndTimeInput"
                                        type="text"
                                        class="form-control"
                                        step="600"
                                        ng-required="true"
                                        ng-model="entryEndTime"
                                        ng-pattern="/^[0-2]?[0-9]:[0-5][0-9]$/"
                                        ng-class="{
                                            'bg-danger':
                                                (entryForm.entryEndTimeInput.$invalid
                                                && entryForm.entryEndTimeInput.$touched)
                                                || invalidFieldEntryEndTime}"
                                    >
                                    <span
                                        ng-show="(entryForm.entryEndTimeInput.$invalid
                                        && entryForm.entryEndTimeInput.$touched)
                                        || invalidFieldEntryEndTime"
                                        class="glyphicon glyphicon-remove form-control-feedback">
                                    </span>
                                </div>
                            </div>
                            <div class="form-group col-sm-2">
                                <button
                                    type="button"
                                    class="btn btn-default now-button"
                                    ng-click="setCurrentTimeEntry()"
                                >Now
                                </button>
                            </div>
                        </div> <!-- entry end time input end -->

                        <button
                            type="submit"
                            class="btn btn-primary btn-block"
                            ng-disabled="entryForm.$invalid">{{entryModalButton}}
                        </button>

                </form>

            </div> <!-- Entry Modal Body End -->

            <div class="modal-footer">
                <button
                    type="button"
                    class="btn btn-default"
                    data-dismiss="modal"
                    ng-click="clearEntryModalData()">Close
                </button>
            </div>

        </div>
    </div>
</div>
